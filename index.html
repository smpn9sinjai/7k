<!DOCTYPE html>
<html lang="id">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Form 7 Kebiasaan Anak</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
   <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/id.js"></script>
   
   
     <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
   <link href="7k.css" rel="stylesheet" />
</head>
<body>

<div style="margin-top:70px" class="container1">
  <!-- FORM LOGIN -->
  <div id="loginCard" class="card" 
       style="max-width:400px;margin:auto;padding:25px;
              border-radius:16px;box-shadow:0 6px 15px rgba(0,0,0,0.15);
              background:#fff; text-align:left; font-family:Arial, sans-serif;">
   <center> <img src="ratukasih.jpg" style="width:300px" /></center>
    <br>
    <br>
     <br>
    <label style="font-weight:bold;"><i class="fas fa-user"></i> Username:</label>
    <input type="text" id="username" placeholder="Masukkan Username" 
           style="width:100%; padding:10px; margin:8px 0 15px 0; 
                  border:1px solid #ccc; border-radius:8px; font-size:14px;">

    <label style="font-weight:bold;"><i class="fas fa-lock"></i> Password:</label>
    <input type="password" id="password" placeholder="Masukkan Password" 
           style="width:100%; padding:10px; margin:8px 0 20px 0; 
                  border:1px solid #ccc; border-radius:8px; font-size:14px;">

    <button onclick="login(this)" 
           >
      <i class="fas fa-sign-in-alt"></i> Login
    </button>

    <center>
      <p id="loginError" style="color:red; display:none; margin-top:15px;">⚠️ Username atau Password salah!</p>
    </center>

    <br>
    <center>
      <span style="font-size:10px; color:#7f8c8d;">©2025 By Admin UPTD SMPN 9 Sinjai</span>
    </center>
  </div>
</div>



 <div id="mainForm" style="margin:0px;padding:0px;display:none;">


  <div class="container">
  <button id="logoutBtn" style="margin-bottom:10px;background: #1d3557"></button>
     <div style="padding:5px;border-left:6px solid orange;border-right:6px solid orange" class="card">
	 <img src="7k.png" style="width:100%;border-radius:16px;margin:0px"/>
	 </div>
	 <div class="card" id="card" >
	<b>Isiliah Form berikut dengan Jujur, tuliskan jawaban berdasarkan keadaan dirimu sendiri yang sebenarnya, tidak perlu malu atau takut menuliskan hal-hal yang belum sempurna.</b>
	 </div>
    <form id="kebiasaanForm">

      <!-- Kartu kebiasaan -->
	  <div class="card">
  <label for="tanggal_bangun_pagi" class="question">Masukkan tanggal</label>
    <input type="date" id="tanggal_bangun_pagi" name="tanggal_bangun_pagi" required>
</div>
	  
     <div class="card">
  <div class="question">1. Bangun Pagi<br> <span id="span">Bangun sekitar pukul 04.00 s.d. 06.00/merapikan tempat tidur/mandi pagi</span></div>
 
  <div class="radio-group">
    <label>
      <input type="radio" name="bangun_pagi" value="Ya" onchange="handleBangunPagi(this.value)"> Ya
    </label>
    <label>
      <input type="radio" name="bangun_pagi" value="Tidak" onchange="handleBangunPagi(this.value)"> Tidak
    </label>
  </div>

  <!-- Input tambahan jika 'Ya' -->
  <div id="jam_bangun_pagi" style="margin-top: 10px; display: none;">
    <label>Jam berapa? <input type="time" name="jam_bangun_pagi"></label>
  </div>

  <!-- Input tambahan jika 'Tidak' -->
  <div id="alasan_bangun_pagi" style="margin-top: 10px; display: none;">
    <label>Alasan tidak bangun pagi: <input type="text" name="alasan_bangun_pagi" placeholder="Masukkan alasan"></label>
  </div>
</div>

 <div class="card">
  <div class="question">2. Beribadah<br><span id="span">Beribadah sesuai agama dan kepercayaan</span></div>
  <div class="radio-group">
    <label><input type="radio" name="beribadah" value="Ya" onchange="handleBeribadah(this.value)"> Ya</label>
    <label><input type="radio" name="beribadah" value="Tidak" onchange="handleBeribadah(this.value)"> Tidak</label>
  </div>

  <!-- Checklist sholat -->
  <div id="sholat_checkboxes" style="display: none; margin-top: 10px;">
    <label><input type="checkbox" name="sholat" value="Subuh" onchange="toggleAlasan('Subuh')"> Subuh</label>
    <input type="text" name="alasan_Subuh" placeholder="Alasan jika tidak" style="display: none; margin-left: 10px;"><br>

    <label><input type="checkbox" name="sholat" value="Dzuhur" onchange="toggleAlasan('Dzuhur')"> Dzuhur</label>
    <input type="text" name="alasan_Dzuhur" placeholder="Alasan jika tidak" style="display: none; margin-left: 10px;"><br>

    <label><input type="checkbox" name="sholat" value="Ashar" onchange="toggleAlasan('Ashar')"> Ashar</label>
    <input type="text" name="alasan_Ashar" placeholder="Alasan jika tidak" style="display: none; margin-left: 10px;"><br>

    <label><input type="checkbox" name="sholat" value="Maghrib" onchange="toggleAlasan('Maghrib')"> Maghrib</label>
    <input type="text" name="alasan_Maghrib" placeholder="Alasan jika tidak" style="display: none; margin-left: 10px;"><br>

    <label><input type="checkbox" name="sholat" value="Isya" onchange="toggleAlasan('Isya')"> Isya</label>
    <input type="text" name="alasan_Isya" placeholder="Alasan jika tidak" style="display: none; margin-left: 10px;">
  </div>

  <!-- Alasan umum kalau Tidak -->
  <div id="alasan_beribadah" style="display: none; margin-top: 10px;">
    <label>Alasan tidak beribadah: <input type="text" name="alasan_beribadah" placeholder="Masukkan alasan"></label>
  </div>
</div>
 



     <div class="card">
  <div class="question">3. Berolahraga<br><span id="span">Senam pagi/peregangan tubuh/ jalan kaki/jogging/yoga/atau olahraga lainnya</span></div>
  <div class="radio-group">
    <label><input type="radio" name="berolahraga" value="Ya" onchange="handleOlahraga(this.value)"> Ya</label>
    <label><input type="radio" name="berolahraga" value="Tidak" onchange="handleOlahraga(this.value)"> Tidak</label>
  </div>

  <!-- Jika Ya -->
  <div id="form_olahraga" style="margin-top: 10px; display: none;">
    <label>Jam Mulai: <input type="time" name="jam_mulai_olahraga"></label><br>
    <label>Jam Selesai: <input type="time" name="jam_selesai_olahraga"></label><br>
    <label>Jenis Olahraga: <input type="text" name="jenis_olahraga" placeholder="Contoh: Lari, Sepak Bola, Senam"></label>
  </div>

  <!-- Jika Tidak -->
  <div id="alasan_olahraga" style="margin-top: 10px; display: none;">
    <label>Alasan tidak berolahraga: <input type="text" name="alasan_olahraga" placeholder="Masukkan alasan"></label>
  </div>
</div>


   <div class="card">
  <div class="question">
    4. Makan Sehat dan Bergizi<br>
    <span id="span">
      Makan bergizi seimbang (makanan pokok/lauk pauk/sayur/buah) dan minum air putih
    </span>
  </div>

  <div class="input-group">
     
    <label>
      <input type="radio" name="makan_sehat" value="Ya" onclick="toggleMenu(true)"> Ya
    </label>
    <label>
      <input type="radio" name="makan_sehat" value="Tidak" onclick="toggleMenu(false)"> Tidak
    </label>
  </div>

  <div class="input-group" id="menu-group" style="display:none;">
    <label for="menu_makan_sehat">Tuliskan menu makanan sehat anda hari ini</label>
    <textarea name="menu_makan_sehat" id="menu_makan_sehat" rows="3"
      placeholder="Contoh: Nasi, sayur bayam, ikan, buah pisang..."></textarea>
  </div>
</div>

<script>
  function toggleMenu(show) {
    document.getElementById('menu-group').style.display = show ? 'block' : 'none';
  }
</script>


 <div class="card">
  <div class="question">
    5. Gemar Belajar<br>
    <span id="span">
      Membaca buku atau sumber belajar lainnya minimal 15 menit per hari / menulis catatan harian / berdiskusi ilmiah / observasi lapangan
    </span>
  </div>

  <div class="input-group">
   
    <label>
      <input type="radio" name="gemar_belajar" value="Ya" onclick="toggleBelajar(true)"> Ya
    </label>
    <label>
      <input type="radio" name="gemar_belajar" value="Tidak" onclick="toggleBelajar(false)"> Tidak
    </label>
  </div>

  <div class="input-group" id="belajar-group" style="display:none;">
    <label for="judul_buku">Judul Buku / Materi yang Dipelajari:</label><br>
    <input type="text" name="judul_buku" id="judul_buku" placeholder="Contoh: IPA Bab 4 - Sistem Pencernaan">

    <label for="informasi_didapat">Informasi yang Didapat:</label><br>
    <textarea name="informasi_didapat" id="informasi_didapat" rows="3"
      placeholder="Contoh: Fungsi organ pencernaan manusia, enzim-enzim pencernaan..."></textarea>
  </div>
</div>

<script>
  function toggleBelajar(show) {
    document.getElementById('belajar-group').style.display = show ? 'block' : 'none';
  }
</script>



      <div class="card">
  <div class="question">6. Bermasyarakat<br><span id="span">Bermain dengan teman sebaya/membantu orang tua/berdiskusi dengan lingkungan sekitar/bergotong royong/bakti sosial/Menghormati keragaman/Toleransi</span></div>
  <div class="radio-group">
    <label><input type="radio" name="bermasyarakat" value="Ya" onchange="handleBermasyarakat(this.value)"> Ya</label>
    <label><input type="radio" name="bermasyarakat" value="Tidak" onchange="handleBermasyarakat(this.value)"> Tidak</label>
  </div>

  <!-- Jika Ya -->
  <div id="bermasyarakat_ya_fields" style="display: none; margin-top: 10px;">
    <label>Jenis kegiatan bermasyarakat:</label><br>
    <input type="text" name="kegiatan_bermasyarakat" placeholder="Contoh: Membantu tetangga, kerja bakti, dll"><br><br>

    <label>Perasaan setelah kegiatan:</label><br>
    <input type="text" name="perasaan_bermasyarakat" placeholder="Contoh: Senang, puas, semangat, dll">
  </div>

  <!-- Jika Tidak -->
  <div id="bermasyarakat_tidak_field" style="display: none; margin-top: 10px;">
    <label>Alasan tidak bermasyarakat:</label><br>
    <input type="text" name="alasan_bermasyarakat" placeholder="Contoh: Sedang sakit, tidak ada kegiatan, dll">
  </div>
</div>


      <div class="card">
  <div class="question">7. Tidur Cepat<br><span id="span">Tidur sekitar pukul 20.00 s.d. 22.00/aktivitas sebelum tidur (gosok gigi/membersihkan diri)/menyiapkan kebutuhan sekolah</span></div>
  <div class="radio-group">
    <label><input type="radio" name="tidur_cepat" value="Ya" onchange="handleTidurCepat(this.value)"> Ya</label>
    <label><input type="radio" name="tidur_cepat" value="Tidak" onchange="handleTidurCepat(this.value)"> Tidak</label>
  </div>

  <!-- Jika Ya -->
  <div id="tidur_cepat_ya_fields" style="display: none; margin-top: 10px;">
    <label>Jam tidur:</label><br>
    <input type="time" name="jam_tidur">
  </div>

  <!-- Jika Tidak -->
  <div id="tidur_cepat_tidak_field" style="display: none; margin-top: 10px;">
    <label>Alasan tidak tidur cepat:</label><br>
    <input type="text" name="alasan_tidur_cepat" placeholder="Contoh: Belum selesai belajar, nonton TV, dll">
  </div>
</div>


      <button id="kdata" type="submit"><i class="fas fa-paper-plane" style="margin-right:7px"></i>   Kirim Jawaban</button>
	     
	    
    </form>
 <br><br><br><br>
 
 <center>	  <div class="select-wrapper">
    <select id="bulanTahun1" onchange="tampilValue(this)">
	  <option value="07-2025">Juli 2025</option>
      <option value="08-2025">Agustus 2025</option>
      <option value="09-2025">September 2025</option>
      <option value="10-2025">Oktober 2025</option>
      <option value="11-2025">November 2025</option>
      <option value="12-2025">Desember 2025</option>
    </select>
  </div></center><br>
 
 
	  <center>
	  
	   <button class="g4" id="kdata2" style="width:350px" onclick="sendp()">
      <i class="fas fa-user-graduate"></i>
      <div class="text-block">
      Lihat Data & Verifikasi Ortu/Wali
        <span id="val">Validasi data oleh orang tua/wali siswa</span>
      </div>
    </button>
	</center>
	  
	  <br><br>
    <center><span style="font-size:10px">©2025 By Admin UPTD SMPN 9 Sinjai</span></center>
    <pre style="display:none" id="outputJSON"></pre>
  </div>
  </div>


<div id="loadingModal" class="modal">
  <div  class="modal-content">
     <p id="tmodal"></p><br>
    <button onclick="closeModal()"> Tutup</button>
  </div>
</div>

 <div id="mainForm1" style="margin:0px;padding:0px;display:none;">
 <div class="container">
  <button id="logoutBtn1" style="margin-bottom:10px;background: #1d3557"></button>
     <div style="padding:5px;border-left:6px solid orange;border-right:6px solid orange" class="card">
	 <img src="7k.png" style="width:100%;border-radius:16px;margin:0px"/>
	 </div>
	  
	 <div class="card">
	
	<center><h4 id='jud'>Daftar Siswa Perwalian Anda</h4></center>
<table id="tabelSiswa">
  <thead>
    <tr>
	 <th>No</th>
      <th>NIS</th>
      <th>Nama</th>
      <th>JK</th>
      <th>Kelas</th>
    </tr>
  </thead>
  <tbody>
  
    <!-- Data akan dimasukkan lewat JavaScript -->
  </tbody>
</table>
<div id="lod" style="text-align:center;margin-top:10px" ><i class="fas fa-spinner fa-spin" style="font-size: 35px; margin-right: 10px; color: #e5d8d8;"></i></div>
	</div> </div>
	 
	 

	 <center> <button style="width:300px;background: #e5d8d8;display:none" id="kdata3" onclick="ref3()" >Refresh</button></center>
 <center>	  <div class="select-wrapper">
    <select id="bulanTahun" onchange="tampilValue(this)">
	  <option value="07-2025">Juli 2025</option>
      <option value="08-2025">Agustus 2025</option>
      <option value="09-2025">September 2025</option>
      <option value="10-2025">Oktober 2025</option>
      <option value="11-2025">November 2025</option>
      <option value="12-2025">Desember 2025</option>
    </select>
  </div></center><br>
	 <center>
    <button class="g2" id="kdata7" onclick="rekap_g()">
      <i class="fas fa-check-circle" ></i>
      <div class="text-block">
        Verifikasi Data
        <span id="val">Validasi data siswa</span>
      </div>
    </button>
  </center>
	  <br><br>
	 <center>
    <button class="g3" id="kdata5" onclick="rekap33()">
      <i class="fas fa-chalkboard-teacher"></i>
	   <div class="text-block">
      Persentase Perwalian Anda
	  <span id="val">Rekap data siswa wali anda</span>
	  </div>
    </button>
  </center>

	  <br><br>
 <center>
    <button class="g4" id="kdata4" onclick="rekappresent()">
      <i class="fas fa-users"></i>
      <div class="text-block">
        Persentase Per Kelas
        <span id="val">Rekap data siswa per kelas</span>
      </div>
    </button>
  </center>	  
	  <br><br>
		 
	    <center>
    <button class="g5" id="kdata6" onclick="rekappersiswa()">
      <i class="fas fa-user-graduate"></i>
      <div class="text-block">
        Persentase Per Siswa
        <span id="val">Rekap data tiap siswa</span>
      </div>
    </button>
  </center> 
  
   <br><br>
		 
	    <center>
    <button class="g1" id="kdata8" onclick="showpicker()">
     <i class="fas fa-calendar"></i>
      <div class="text-block">
        Persentase Per Tanggal
        <span id="val">Rekap data siswa pertangal</span>
      </div>
    </button>
  </center> 
  
  
	  <center> <button style="width:300px;display:none" id="kdata44"  onclick="rekapall()" >Persentase Per Kelas</button></center>
	 
	  	   <br><br>
 <center><span style="font-size:10px">©2025 By Admin UPTD SMPN 9 Sinjai</span></center>
 </div>
	
	
	<div id="rekapModal" class="modal1">
  <div class="modal-content1"  >
    <span class="close">&times;</span>
   <center> <b id="pp">Rekap Kegiatan Siswa</b></center>
   <br>
	<div id="mtabel" >
    <table id="rekapTable">
      <thead>
        <tr>
          <th>No</th>
          <th>Tgl</th>
		   <th>Bangun Pagi</th>
          <th>Beribadah</th>
		   <th>Berolahraga</th>
          <th>Makan Bergizi</th>
		   <th>Membaca Buku</th>
		   
			 <th>Bermasyarakat</th>
			  <th>Tidur Cepat</th>
			   <th>Verifikasi Orang Tua/Wali</th>
			    <th>Verifikasi Guru</th>
        </tr>
      </thead>
	  
      <tbody id="rekapBody">
        <!-- Diisi lewat JS -->
      </tbody>
    </table><br>
	 <div id="prog" style="margin-left:5px"></div>
	</div>
  </div>
</div>


	<div id="rekapModal2" class="modal12">
  <div class="modal-content12"  >
    <span class="close1">&times;</span>
	<center><div id="tp" style="margin:10px 0px 13px 0px;"></div></center>
    <div id="rekap" style="margin:0px;padding:5px"><div>
	<div id="container6">
<div id="progressList"></div>
</div>
	</div>
  </div>
</div>
</div>
 
 
  
 <!-- Modal Ganti Password -->
<div id="passwordModal" class="modal" style="display:none; position:fixed; top:0; left:0; 
  width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center;">
  <div class="modal-content" style="background:#fff; padding:20px; border-radius:10px; width:300px; font-family:Segoe UI;">
    <h3 style="margin-top:0; text-align:center;">🔑 Ganti Password</h3>
    
    <label for="oldPass" style="display:block; text-align:left; margin-bottom:4px; font-weight:500;">Password Lama</label>
    <input type="password" id="oldPass" placeholder="Masukkan password lama" 
           style="width:100%; margin-bottom:10px; padding:8px; border:1px solid #ccc; border-radius:5px;">
    
    <label for="newPass" style="display:block; text-align:left; margin-bottom:4px; font-weight:500;">Password Baru</label>
    <input type="password" id="newPass" placeholder="Minimal 6 digit/karakter" 
           style="width:100%; margin-bottom:15px; padding:8px; border:1px solid #ccc; border-radius:5px;">
    <span id="tpas" style="display:none;color:red" > ⚠️ Gagal ganti password</span>
	<span id="tpas1" style="display:none;color:green" > ✔️ Password Berhasil di ganti</span>
	
	<br>
    <button id="gpas" onclick="gantipasword(this)" 
            style="width:100%; padding:10px; background:#1d3557; color:white; border:none; border-radius:6px; margin-bottom:6px;">
      Ganti
    </button>
	<br>
    <button onclick="closePasswordModal()" 
            style="width:100%; padding:10px; background:orange; border:none; border-radius:6px;">
      Tutup
    </button>
  </div>
</div>

< 
 
<script src="https://cdn.jsdelivr.net/npm/exceljs/dist/exceljs.min.js"></script>
 <script src="7k.js"></script>	
</body>
</html>
